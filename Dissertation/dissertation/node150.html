
<H2><A NAME="SECTION05142000000000000000">
Keeping Frequencies Bounded</A>
</H2>
In the previous section the first velocity method that was developed was discussed. The velocity method is important as it calculates the direction and next position of a particle in the problem space, where the problem space is the <#5633#>FAP<#5633#> and a position of a particle is a possible frequency plan. With the velocity method defined, the swarm is now able to move around in the problem space, but this alone is not enough. The swarm has no concept of the constraints<A NAME="tex2html27"
  HREF="footnode.html#foot5880"><SUP>6.3</SUP></A> that are imposed inherently by the domain as well as the network for which a frequency plan is being created.

<P>
Due to the swarm not having a concept of the constraints a constraint handling mechanism needs to be used. Each of the methods discussed in this section fall under the category of using the <I>repair method</I> which is discussed in section~<A HREF=<tex2html_cr_mark>#sec:chm#5637><tex2html_cr_mark></A>

<P>
The first method that was developed was the BoundValue method and is depicted in algorithm~<A HREF=<tex2html_cr_mark>#alg:boundvalue#5638><tex2html_cr_mark></A>.
<BR>
<A NAME="alg:boundvalue"><tex2html_anchor_mark></A><tex2html_image_mark>#algorithm5639#
<BR>
The constraints that are imposed are usually some part of the spectrum that may under no circumstances be used anywhere in the network, which as discussed in chapter~<A HREF=<tex2html_cr_mark>#chpt:fap#5650><tex2html_cr_mark></A> is known as globally blocked frequencies. Some frequencies that are only allowed to be used in certain parts of the network are known as locally blocked frequencies. Then of course the swarm also needs to take into account the electromagnetic constraints<A NAME="tex2html28"
  HREF="footnode.html#foot5881"><SUP>6.4</SUP></A>.

<P>
The velocity function used by the <#5652#>PSO<#5652#> needs to be altered to make the swarm in some sense more aware of the domain it is operating in and hence keep the particle positions bounded within the allowable search space. By not bounding particle positions in the <#5653#>FAP<#5653#> problem space, transceivers of some cells might be assigned a frequency that is not allowed or not even allocated to the network. The <#5654#>PSO<#5654#> will accept this assignment since the fitness function operates on the assumption that under no circumstances will these invalid frequencies be assigned and thus does not penalise invalid assignments.

<P>
To keep assigned frequency values to transceivers in the allocated spectrum of the network a boundary check needs to be added to the velocity method. The purpose of the boundary check is to validate all assignments in a position, i.e. the frequency plan that a particle currently occupies, and if any assignments violate the defined boundary constraints then it must take the violating value and modify it to be in the acceptable value range.

<P>
The boundary check that is used by velocity method 1 operates on the basis that for any range of values there is a defined lower bound (a minimum value) and upper bound (a maximum value). The frequency boundary check is only applied when one of the following conditions is met after the calculated velocity has been applied to the current position:

<UL>
<LI>If a frequency allocated to a transceiver is above the maximum allowable frequency (upper bound) given to the network. 
</LI>
<LI>If a frequency allocated to a transceiver is below the minimum allowable frequency (lower bound) given to the network.
</LI>
</UL>

<P>
As can be seen in line 5 of algorithm~<A HREF=<tex2html_cr_mark>#alg:boundvalue#5657><tex2html_cr_mark></A>, a mod operation is applied to the value to bring it within the allowable range. The integer mod operation is similar to integer division, the only difference being in the result that is produced. Division produces the result of two numbers being divided. Mod produces the remainder of two numbers being divided. If two numbers divide perfectly into one another there will not be any remainder; if the numbers do not divide perfectly into one another there will be a remainder. 
<P></P>
<DIV ALIGN="CENTER"><TABLE CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><tex2html_image_mark>#tex2html_wrap_indisplay15658#</TD>
<TD NOWRAP ALIGN="LEFT"><tex2html_image_mark>#tex2html_wrap_indisplay15659#</TD>
<TD NOWRAP WIDTH="10" ALIGN="RIGHT">
(6.1)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><tex2html_image_mark>#tex2html_wrap_indisplay15660#</TD>
<TD NOWRAP ALIGN="LEFT"><tex2html_image_mark>#tex2html_wrap_indisplay15661#</TD>
<TD NOWRAP WIDTH="10" ALIGN="RIGHT">
(6.2)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><tex2html_image_mark>#tex2html_wrap_indisplay15662#</TD>
<TD NOWRAP ALIGN="LEFT">0</TD>
<TD NOWRAP WIDTH="10" ALIGN="RIGHT">
(6.3)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><tex2html_image_mark>#tex2html_wrap_indisplay15663#</TD>
<TD NOWRAP ALIGN="LEFT">0</TD>
<TD NOWRAP WIDTH="10" ALIGN="RIGHT">
(6.4)</TD></TR>
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="RIGHT"><tex2html_image_mark>#tex2html_wrap_indisplay15664#</TD>
<TD NOWRAP ALIGN="LEFT"><tex2html_image_mark>#tex2html_wrap_indisplay15665#</TD>
<TD NOWRAP WIDTH="10" ALIGN="RIGHT">
(6.5)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
As can be seen in the above example mod operations, any value that is modded will be kept in the range <tex2html_image_mark>#tex2html_wrap_inline15667#
<tex2html_verbatim_mark>mathend000#. With regard to frequencies, the following occurs: If, for instance, the maximum allowable frequency is 50, and the transceiver has a frequency value (after velocity) of 56, the 56 value is modded by 50 to produce a value of 6. This modded value is then added to the minimum allowable frequency. In essence, the value is wrapped around to always be within acceptable range. 

<P>
The difficult case is when the frequency value is lower than the minimum frequency given to the network. This is because modding the frequency value has no effect. For example, if the lowest allowable frequency is 20 and the transceiver value after movement is 15, modding the transceiver value of 15 by 20 has no effect. To solve this, the following options are then considered:

<P>

<OL>
<LI>First subtract the lower value from the minimum allowable frequency. Then add the result to the minimum allowable frequency. The resultant value is checked again as to whether it oversteps the bounds of the maximum allowable frequency and is bounded accordingly.
</LI>
<LI>Add the lower value to the minimum allowable frequency. The resultant value is checked as towhether it oversteps the bounds of the maximum allowable frequency and is bounded accordingly.
</LI>
<LI>Repeatedly subtract the lower value from the maximum allowable frequency until the resultant frequency is within the acceptable frequency range.
</LI>
</OL>

<P>
An important notion to consider is that, based on the velocity equation, it is entirely within the realm of possibility that a frequency value after movement might contain a negative value. As can be seen in line 3 of algorithm~<A HREF=<tex2html_cr_mark>#alg:boundvalue#5662><tex2html_cr_mark></A> the algorithm solves this problem by first taking the absolute value of the negative frequency value. The boundary check then treats the now positive frequency value as a normal value that needs to be bounded.

<P>
It is better to use frequency index values rather than actual frequency values for frequency plans, and this is explained below.
